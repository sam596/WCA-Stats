# Table Definitions

|Table|Details|
|--|--|
|`result_dates`|A near-clone of the original WCA `results` table, but with added fields for `weekend` (the period of time beginning on the Thursday before on which the competition takes place) and `date` (the date on which the **competition ended** - not necessarily the correct date)|
|`all_single_results`|Every single result ever completed has its own entry in this table|
|`kinch_ranks_by_event` and `kinch`|Calculates the kinch score for each event for each person, and the `kinch` table averages these for each person and ranks them. Kinchranks were explained by Daniel Sheppard [here](http://www.kinch2002.com/kinchranks/)|
|`world_ranks_single`, `world_ranks_average` and `world_ranks_all`|Creates near-clones of the WCA's `ranksaverage` and `rankssingle` tables, but with fields for the competition, round and date which the PB was set at. These also have a `competed` field which is set to 0 if the competitor hasn't competed in the event, if this is indeed 0, the `worldrank` is set to `N + 1`, where `N` is the number of competitors who have succeeded in the event|
|`sor_single`,`sor_average` and `sor_combined`|Creates Sum of Ranks tables, and ranks competitors by their sum|
|`persons_extra`|Creates a clone of the WCA's `persons` table, with many other statistics about each person. These include: `competitions` (competed at), `eventsAttempted`, `eventsSucceeded`, `eventsAverage`, `finals`, `podiums`, `gold`, `silver`, `bronze`, `eventsPodiumed`, `eventsWon`, `wcPodium`, `wChampion`, `records`, `WRs`, `CRs`, `NRs`, `countries` (competed in), `continents` (competed in), `multipleCountryComps` (e.g. FMC Europe), `distinctMultipleCountryComps` (number of competitions matching previous criteria), `completedSolves`, `DNFs`, `sorAverage`, `sorAverageRank`, `sorSingle`, `sorSingleRank`, `sorCombined`, `sorCombinedRank`, `minWorldRank` (current) and `membership` (as explained [here](https://www.speedsolving.com/forum/threads/all-wca-events-completion-club.39896/)), `delegate_status`, (and if they're a delegate - `region`, `location` and `competitionsDelegated`) and `competitionsOrganized`. Massive credit to Oliver Wheat who wrote the original sql file for this, which I have adapted since|
|`records`|All the results from `result_dates` where a record was set|
|`concise_results` and `pbs`, `competition_pbs`|Calculates whether or not a result was a PB. `concise_results` then lists all results, with a `PB` boolean field. `pbs` contains only the results from `concise_results` that are PBs. `conmpetition_pbs` counts the number of PBs set by a competitor at every competition|
|`guildford`,`mini_guildford`,`all_events`|These tables sum a competitors single times and outputs the expected time for the relay. `allEvents` is everything except FMC and MBLD, as these can't really be added alongside the others. `guildford` and `miniGuildford` relays were explained [here](https://www.speedsolving.com/forum/threads/guildford-challenge-in-5-20-28-3-man-team.39891/) by Robert Yau, Daniel Sheppard and James Molloy back in 2013|
|`mbld_decoded`|'Decodes' all individual MBLD results in the database to give `points`, `attempted`, `missed`, `solved` and `seconds`. This way they can easily be read|
|`pb_streak`|Calculates streaks of competitions with a PB set. *This query takes a substantial amount of time, so is not included in `wcadevupd.sh`*|
